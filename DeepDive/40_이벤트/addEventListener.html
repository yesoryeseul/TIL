<!DOCTYPE html>
<html>
  <body>
    <button>Click me!</button>
    <script>
      const $button = document.querySelector('button');

      // addEventListener 메서드는 동일한 요소에서 발생한 동일한 이벤트에 대해 하나 이상의 이벤트 핸들러를 등록할 수 있다. > 등록한 순서대로 호출
      $button.addEventListener('click', function() {
        console.log('[1addEventListener 메서드 방식]button click');
      })

      $button.addEventListener('click', function() {
        console.log('[2addEventListener 메서드 방식]button click');
      })

      // 이벤트 핸들러 프로퍼티 방식과 비교
      $button.onclick = function() {
        console.log('[이벤트 핸들러 프로퍼티 방식]button click');
      }

      // addEventListener 메서드 방식은 이벤트 핸들러 프로퍼티에 바인딩된 이벤트 핸들러에 아무런 영향을 주지 않는다. 따라서 버튼 요소에서 클릭 이벤트가 발생하면 2개의 이벤트 핸들러가 모두 호출된다.

      // 단, addEventListener 메서드를 통해 참조가 동일한 이벤트 핸들러를 중복 등록하면 하나의 이벤트 핸들러만 등록된다
      const handleClick = () => console.log('button click');

      $button.addEventListener('click', handleClick);
      $button.addEventListener('click', handleClick);

      // 이벤트 핸들러 제거
      // removeEventListener
      $button.removeEventListener('click', handleClick, true) // 실패
      $button.removeEventListener('click', handleClick) // 성공

      // 무명 함수를 이벤트 핸들러로 등록한 경우 제거할 수 없다.

      // 이벤트 핸들러 프로퍼티 방식은 null로 제거할 수 있다
      $button.onclick = handleClick;
      $button.onclick = null;
    </script>
  </body>
</html>