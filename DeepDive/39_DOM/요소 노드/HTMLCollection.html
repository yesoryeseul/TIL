<!DOCTYPE html>
<html lang="en">
  <style>
    .red {
      color: red;
    }
    .blue {
      color: blue;
    }
  </style>
  <body>
    <ul id="fruits">
      <li class="red">apple</li>
      <li class="red">banana</li>
      <li class="red">orange</li>
    </ul>
    <script>
      // class 값이 'red'인 요소 노드를 모두 탐색하여 HTMLCollection 객체에 담아 반환한다.
      const $elems = document.getElementsByClassName("red");
      console.log($elems); // HTMLCollection(3) [li.red, li.red, li.red]

      // HTMLCollection 객체의 모든 요소의 class 값을 'blue'로 변경한다.
      // for (let i = 0; i < $elems.length; i++) {
      //   $elems[i].className = "blue";
      // }
      // -> 여기서 제대로 동작하지 않는다!
      // -> 실시간으로 노드 객체의 상태 변경을 반영하여 요소를 제거할 수 있기 때문에 HTMLCollection 객체를 for문으로 순회하면서 노드 객체의 상태를 변경해야 할 때 주의 해야 한다.

      // 회피 방법 1
      for (let i = $elems.length - 1; i >= 0; i--) {
        $elems[i].className = "blue";
      }
      // 회피 방법 2
      // let i = 0;
      // while ($elems.length > 1) {
      //   $elems[i].className = "blue";
      // } // 해결 안됨

      // 회피 방법 3[...$elems].forEach((elem) => (elem.className = "navy"));
      console.log($elems); // HTMLCollection [li.red]
    </script>
  </body>
</html>
